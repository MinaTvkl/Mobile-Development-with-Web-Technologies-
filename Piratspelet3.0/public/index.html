<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <link type="text/css" rel="stylesheet" href="css.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://unpkg.com/onsenui/css/onsenui.css">
    <link rel="stylesheet" href="https://unpkg.com/onsenui/css/onsen-css-components.min.css">
    <script src="https://unpkg.com/onsenui/js/onsenui.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <meta charset="utf-8" />
    <title>Pirate Game, ARRRGH</title>
    <!-- update the version number as needed -->
    <script defer src="/__/firebase/7.14.0/firebase-app.js"></script>
    <!-- include only the Firebase features as you need -->
    <script defer src="/__/firebase/7.14.0/firebase-auth.js"></script>
    <script defer src="/__/firebase/7.14.0/firebase-database.js"></script>
    <script defer src="/__/firebase/7.14.0/firebase-messaging.js"></script>
    <script defer src="/__/firebase/7.14.0/firebase-storage.js"></script>

    
    <!-- initialize the SDK after all desired features are loaded -->
    <script defer src="/__/firebase/init.js"></script>
    <script src="cardfunctions.js"></script>
    <script src="script.js"></script>
    <script>var firebase = require('firebase');</script>
    <script src="mapsscript.js"></script>
    <script defer src="./init-firebase.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCxuXYlxmbsxvPR1YOyCuNUPu9cBqj3FGk&callback=initMap" async defer></script>  
    <script>
      
      var myVar;
      
      function loadThemap() {
        myVar = setTimeout(showPage, 3000);
      }
      
      
      function showPage() {
        document.getElementById("loader").style.display = "none";
        document.getElementById("intro").style.display = "none";
        document.getElementById("myDiv").style.display = "block";
        initMap();
      }
    </script>
    <script>
      
    var showTemplateDialog = function() {
        var dialog = document.getElementById('my-dialog');
      
        if (dialog) {
          dialog.show();
        } else {
          ons.createElement('dialog.html', { append: true })
            .then(function(dialog) {
              dialog.show();
            });
        }
      };
      
      var hideDialog = function(id) {
        document
          .getElementById(id)
          .hide();
      };
    </script>

    <script>
    window.fn = {};

    window.fn.open = function() {
        var menu = document.getElementById('menu');
        menu.open();
    };

    window.fn.load = function(page) {
        var content = document.getElementById('content');
        var menu = document.getElementById('menu');
        content.load(page)
            .then(menu.close.bind(menu));
    };
        
    </script>
</head>
<body onload="loadThemap()">

    <ons-toolbar id="header">
        <div class="left">
            <ons-toolbar-button onclick="fn.open()">
              <ons-icon icon="md-menu"></ons-icon>
            </ons-toolbar-button>
        </div>
        <div class="center">
          PIRATSPELET </div>
        <div class="right">
            <ons-toolbar-button icon="ion-navicon" onclick="showTemplateDialog()">Sign out</ons-toolbar-button>
          </div>
    </ons-toolbar>

    
      <ons-page>
        <ons-tabbar swipeable position="auto" id="header">
          <ons-tab page="play.html" label="Play" icon="md-home" id="play">
          </ons-tab>
          <ons-tab page="maps.html" label="Map" icon="md-settings" active-icon="md-face" id="map">
          </ons-tab>
        <ons-tab page="page5.html" label="Settings" icon="md-settings" active-icon="md-face" id="settings">
        </ons-tab>
        </ons-tabbar>
      </ons-page>

      
      <template id="play.html">
        <ons-page id="playcard">
            <ons-toolbar>
                <div class="left">
                    <ons-toolbar-button onclick="fn.open()">
                      <ons-icon icon="md-menu"></ons-icon>
                    </ons-toolbar-button>
                </div>
                <div class="center" id="">Play</div>
            </ons-toolbar>
            <div class="playcard" id="playcard" onclick="read('piratkort.txt')">
                <h1>Aaaaaargh!</h1>
                <p class="cardtext" id="cardtext"> 
                  </p>
                              </div>
        </ons-page>

    </template>

    <template id="maps.html" >
        <ons-page id="page3">
            <ons-toolbar>
                <div class="left">
                    <ons-toolbar-button onclick="fn.open()">
                      <ons-icon icon="md-menu"></ons-icon>
                    </ons-toolbar-button>
                </div>
                <div class="center" >MAP</div>
            </ons-toolbar >
            <div classname="mapdivider">
              <div id="intro" >
                <h1>Welcome to our map app</h1>
                <div id="loader"></div>
              </div>
              <div id="myDiv" style="display:none;">
                
                
                <div id="googlemap">

                </div>

                <div id="controlWrapper">
                  <div class ="Locationbuttons">
                    <button class ="Locationbutton" id="postLocation" onClick="postMyLocation()">Post your Location</button>
                    <button class ="Locationbutton" id="currentLocation" >Din Nuvarande Plats</button>
                    <button class ="Locationbutton" id="simon" onClick="favoriteLocation(this.id)"> Simons favoritplats</button>
                    <button class ="Locationbutton" id="mina" onClick="favoriteLocation(this.id)"> Minas favoritplats</button>
                    <button class ="Locationbutton" id="erik" onClick="favoriteLocation(this.id)"> Eriks Favoritplats</button>
                  </div>
          
                  <div class ="zoombuttons">
                    <button class= "zoombutton" id="zoomInButton" >+</button>
                    <button class= "zoombutton" id="zoomOutButton" >-</button>
                  </div>
                </div>
              </div>
            </div>
        </ons-page>
    </template>

    <template id="page5.html">
        <ons-page id="page5">
            <ons-toolbar>
                <div class="left">
                    <ons-toolbar-button onclick="fn.open()">
                      <ons-icon icon="md-menu"></ons-icon>
                    </ons-toolbar-button>
                </div>
                <div class="center">Settings</div>
            </ons-toolbar>
            <div class="my-header">
                <img class="my-header-image" src="photos/photo-face.jpg" />
            </div>
            <div class="my-content">
                <h1>Feel Your Face</h1>
                <ul>
                    <li>Become aware of your face.</li>
                    <li>Feel the forehead.</li>
                    <li>The eyebrows.</li>
                    <li>Eyes.</li>
                    <li>Nose.</li>
                    <li>Nostrils.</li>
                    <li>Air flowing through the nostrils.</li>
                    <li>Cheeks.</li>
                    <li>Jaw.</li>
                    <li>Lips.</li>
                    <li>Tongue.</li>
                    <li>Whole of the head.</li>
                    <li>The space surrounding the head.</li>
                </ul>
            </div>
            <ons-list>
                <ons-list-header>Task compleation</ons-list-header>
                <ons-list-item>
                  <div class="center">
                    Done with task
                  </div>
                  <div class="right">
                    <ons-switch></ons-switch>
                  </div>
                </ons-list-item>
                
              </ons-list>
        </ons-page>
    </template>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // // 🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥
        // // The Firebase SDK is initialized and available here!
        //
        // firebase.auth().onAuthStateChanged(user => { });
        // firebase.database().ref('/path/to/ref').on('value', snapshot => { });
        // firebase.messaging().requestPermission().then(() => { });
        // firebase.storage().ref('/path/to/ref').getDownloadURL().then(() => { });
        //
        // // 🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥

        try {
          let app = firebase.app();
          let features = ['auth', 'database', 'messaging', 'storage'].filter(feature => typeof app[feature] === 'function');
          document.getElementById('load').innerHTML = `Firebase SDK loaded with ${features.join(', ')}`;
        } catch (e) {
          console.error(e);
          document.getElementById('load').innerHTML = 'Error loading the Firebase SDK, check the console.';
        }
    });


  function read(textFile) {
      console.log("clicked")
      var xhr=new XMLHttpRequest;
      xhr.open('GET',textFile)
      xhr.send()
      console.log(xhr)
      xhr.onload = function () {
          if (xhr.readyState === xhr.DONE) {
              if (xhr.status === 200) {
            console.log(xhr.responseText);
            document.getElementById("cardtext").innerHTML =  xhr.responseText;

        }
    }
};

    }

  function show() {
      var pre=document.createElement('pre');
      pre.textContent=this.response;
      document.body.appendChild(pre)
  }

    </script>


<script>
  const quotes = [{
    "quote": "This is just a Quote1",
    "source": "Christopher"
  },
  {
    "quote": "This is just a Quote2",
    "source": "Martin"
  },
  {
    "quote": "This is just a Quote3",
    "source": "Dennis"
  },
]

var quotation = document.getElementById('quotation'); // get the quotation <p>
var source = document.getElementById('source'); // get the source <p>

function randomQuote() {
  let random = quotes[Math.floor(Math.random() * quotes.length)];
  quotation.innerText = `"${random.quote}"`;
  source.innerText = random.source;
}

randomQuote();
</script>



</body>
</html>